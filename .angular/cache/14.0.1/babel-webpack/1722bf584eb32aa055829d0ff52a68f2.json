{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/krishna.gajjar/Project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/post.service\";\nimport * as i2 from \"src/app/services/pagination.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../pipes/search.pipe\";\n\nfunction PostsComponent_ng_container_7_div_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tag_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tag_r7, \" \");\n  }\n}\n\nfunction PostsComponent_ng_container_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10);\n    i0.ɵɵelement(2, \"img\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 12);\n    i0.ɵɵelement(4, \"img\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 13)(6, \"h4\")(7, \"b\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 14);\n    i0.ɵɵtext(10, \" Tags: \");\n    i0.ɵɵtemplate(11, PostsComponent_ng_container_7_div_1_div_11_Template, 2, 1, \"div\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\");\n    i0.ɵɵelement(13, \"i\", 16);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 17)(16, \"button\", 18);\n    i0.ɵɵtext(17, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function PostsComponent_ng_container_7_div_1_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const data_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.deletePostData(data_r5.id));\n    });\n    i0.ɵɵtext(19, \"delete\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const data_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", data_r5.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", data_r5.owner.picture, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(data_r5.text);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", data_r5.tags);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\": \", data_r5.likes, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", \"edit/\" + data_r5.id);\n  }\n}\n\nfunction PostsComponent_ng_container_7_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No Record Found\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PostsComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, PostsComponent_ng_container_7_div_1_Template, 20, 6, \"div\", 8);\n    i0.ɵɵtemplate(2, PostsComponent_ng_container_7_p_2_Template, 2, 0, \"p\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const result_r2 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", result_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", result_r2.length === 0);\n  }\n}\n\nfunction PostsComponent_div_9_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function PostsComponent_div_9_a_3_Template_a_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const n_r11 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.getPosts(n_r11));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const n_r11 = ctx.$implicit;\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", n_r11 === (ctx_r10.pager == null ? null : ctx_r10.pager.currentPage));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", n_r11, \" \");\n  }\n}\n\nfunction PostsComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function PostsComponent_div_9_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.prev());\n    });\n    i0.ɵɵtext(2, \"\\u00AB\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, PostsComponent_div_9_a_3_Template, 2, 3, \"a\", 23);\n    i0.ɵɵelementStart(4, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function PostsComponent_div_9_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.next());\n    });\n    i0.ɵɵtext(5, \"\\u00BB\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.pager.pages);\n  }\n}\n\nexport class PostsComponent {\n  constructor(postService, paginationSer, router) {\n    this.postService = postService;\n    this.paginationSer = paginationSer;\n    this.router = router;\n  }\n\n  ngOnInit() {\n    this.getPosts(1);\n  }\n\n  next() {\n    if (this.pager?.currentPage < 44) {\n      this.getPosts(this.pager?.currentPage + 1);\n    }\n  }\n\n  prev() {\n    if (this.pager?.currentPage > 1) {\n      this.getPosts(this.pager?.currentPage - 1);\n    }\n  }\n\n  getPosts(pageNumber) {\n    const req = {\n      page: pageNumber - 1\n    };\n    this.postService.getPostData(req).subscribe(res => {\n      this.postData = res;\n      this.posts = res.data;\n      console.log(this.postData);\n      this.setPage(this.postData.page);\n    });\n  }\n\n  setPage(page) {\n    this.pager = this.paginationSer.paginate(this.postData.total, page + 1, this.postData.limit);\n  }\n\n  gotoPage() {\n    this.router.navigate(['posts/create']);\n  }\n\n  deletePostData(id) {\n    if (this.isDeleting) {\n      return;\n    }\n\n    this.isDeleting = true;\n    this.postService.deletePost(id).subscribe(res => {\n      this.isDeleting = false;\n      this.getPosts(1);\n    }, err => {\n      this.isDeleting = false;\n    });\n  }\n\n  updateResults() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.filteredItems = _this.filterByOption(_this.searchByValue(_this.items));\n    })();\n  }\n\n  searchByValue(items) {\n    return items.filter(item => {\n      if (this.searchValue.trim() === '') {\n        return true;\n      } else {\n        return item.project.toLowerCase().includes(this.searchValue.trim().toLocaleLowerCase()) || item.type.toLowerCase().includes(this.searchValue.trim().toLocaleLowerCase());\n      }\n    });\n  }\n\n  filterByOption(items) {\n    return items.filter(item => {\n      if (this.filterOption === 'all' || this.filterOption === item.type) {\n        return true;\n      }\n    });\n  }\n\n}\n\nPostsComponent.ɵfac = function PostsComponent_Factory(t) {\n  return new (t || PostsComponent)(i0.ɵɵdirectiveInject(i1.PostService), i0.ɵɵdirectiveInject(i2.PaginationService), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nPostsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostsComponent,\n  selectors: [[\"app-posts\"]],\n  decls: 10,\n  vars: 6,\n  consts: [[1, \"header\"], [1, \"search\"], [\"type\", \"text\", \"name\", \"search\", \"autocomplete\", \"off\", \"placeholder\", \"Search Posts....\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"add\"], [1, \"add-buttion\", 3, \"click\"], [1, \"card-container\"], [4, \"ngIf\"], [\"class\", \"pagination\", 4, \"ngIf\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\"], [1, \"card-image\"], [\"alt\", \"Avatar\", 3, \"src\"], [1, \"profile-image\"], [1, \"card-content\"], [1, \"tag\"], [\"class\", \"inner-tag\", 4, \"ngFor\", \"ngForOf\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-thumbs-o-up\"], [1, \"group-button\"], [1, \"button\", 3, \"routerLink\"], [1, \"button\", 3, \"click\"], [1, \"inner-tag\"], [1, \"pagination\"], [\"href\", \"javascript:;\", 3, \"click\"], [\"href\", \"javascript:;\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"]],\n  template: function PostsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function PostsComponent_Template_input_ngModelChange_2_listener($event) {\n        return ctx.searchPost = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function PostsComponent_Template_button_click_4_listener() {\n        return ctx.gotoPage();\n      });\n      i0.ɵɵtext(5, \"Add Post\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵtemplate(7, PostsComponent_ng_container_7_Template, 3, 2, \"ng-container\", 6);\n      i0.ɵɵpipe(8, \"filter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, PostsComponent_div_9_Template, 6, 1, \"div\", 7);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchPost);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind2(8, 3, ctx.posts, ctx.searchPost));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.pager);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i3.RouterLink, i6.SearchPipe],\n  styles: [\".header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 40px;\\n}\\n\\n.card-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  margin: 0 auto;\\n  justify-content: space-evenly;\\n}\\n\\n.tag[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.inner-tag[_ngcontent-%COMP%] {\\n  margin-left: 10px;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  \\n  width: 20%;\\n  margin-bottom: 20px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\\n  transition: 0.3s;\\n  margin-right: 10px;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100px;\\n  border-bottom-left-radius: 10px;\\n  border-bottom-right-radius: 10px;\\n  object-fit: cover;\\n}\\n\\n.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  z-index: 1;\\n  width: 120px;\\n  height: 120px;\\n  position: relative;\\n  margin-top: -75px;\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  border-radius: 100px;\\n}\\n\\n.card-content[_ngcontent-%COMP%] {\\n  margin: 0px 14px;\\n}\\n\\n.card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  font-size: 15px;\\n  text-align: center;\\n  font-weight: 400;\\n}\\n\\n.group-button[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  margin-left: -28px;\\n}\\n\\n.button[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  margin: 25px auto;\\n  width: 50px;\\n  background-color: rgb(39, 39, 211);\\n  color: white;\\n  border: 2px solid rgb(39, 39, 211);\\n}\\n\\n.add-buttion[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  width: 100px;\\n  background-color: rgb(39, 39, 211);\\n  color: white;\\n  border: 2px solid rgb(39, 39, 211);\\n  padding: 10px 0px;\\n}\\n\\n.card[_ngcontent-%COMP%]:hover {\\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  padding: 2px 16px;\\n}\\n\\n.pagination[_ngcontent-%COMP%] {\\n  padding: 30px 0 60px;\\n  text-align: center;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: black;\\n  float: left;\\n  padding: 8px 16px;\\n  text-decoration: none;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%] {\\n  background-color: #4CAF50;\\n  color: white;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active) {\\n  background-color: #ddd;\\n}\\n\\n.inner-tag[_ngcontent-%COMP%] {\\n  font-size: 15px;\\n  font-weight: 400;\\n  border: 1px solid rgb(222, 140, 222);\\n  background: rgb(222, 140, 222);\\n  color: beige;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  width: 250px;\\n  padding: 12px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  box-sizing: border-box;\\n  margin-top: 6px;\\n  margin-bottom: 16px;\\n  resize: vertical;\\n}\\n\\ninput[type=submit][_ngcontent-%COMP%] {\\n  background-color: #04AA6D;\\n  color: white;\\n  padding: 12px 20px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n}\\n\\ninput[type=submit][_ngcontent-%COMP%]:hover {\\n  background-color: #45a049;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFDQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsNkJBQUE7QUFFSjs7QUFBQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0FBR0o7O0FBREE7RUFDSSxpQkFBQTtBQUlKOztBQURBO0VBQ0ksNENBQUE7RUFDQSxVQUFBO0VBQ0EsbUJBQUE7RUFDQSwwQ0FBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7QUFJSjs7QUFBRTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQ0FBQTtFQUNBLGlCQUFBO0FBR0o7O0FBREU7RUFDRSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtBQUlKOztBQURFO0VBQ0UsZ0JBQUE7QUFJSjs7QUFERTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FBSUo7O0FBREU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQUlKOztBQUZFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGtDQUFBO0VBQ0EsWUFBQTtFQUNBLGtDQUFBO0FBS0o7O0FBRkU7RUFDRSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGtDQUFBO0VBQ0EsWUFBQTtFQUNBLGtDQUFBO0VBQ0EsaUJBQUE7QUFLSjs7QUFGRTtFQUNFLDJDQUFBO0FBS0o7O0FBREU7RUFDRSxpQkFBQTtBQUlKOztBQURFO0VBQ0Usb0JBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtBQUlKOztBQURFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLHFCQUFBO0FBSUo7O0FBREU7RUFDRSx5QkFBQTtFQUNBLFlBQUE7QUFJSjs7QUFERTtFQUFrQyxzQkFBQTtBQUtwQzs7QUFIRTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG9DQUFBO0VBQ0EsOEJBQUE7RUFDQSxZQUFBO0FBTUo7O0FBSEU7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0FBTUo7O0FBSEU7RUFDRSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFNSjs7QUFIRTtFQUNFLHlCQUFBO0FBTUoiLCJmaWxlIjoicG9zdHMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaGVhZGVye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIG1hcmdpbi1ib3R0b206IDQwcHg7XHJcbn1cclxuLmNhcmQtY29udGFpbmVye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xyXG59XHJcbi50YWd7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG59XHJcbi5pbm5lci10YWd7XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxufVxyXG5cclxuLmNhcmQge1xyXG4gICAgLyogQWRkIHNoYWRvd3MgdG8gY3JlYXRlIHRoZSBcImNhcmRcIiBlZmZlY3QgKi9cclxuICAgIHdpZHRoOiAyMCU7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggOHB4IDAgcmdiYSgwLDAsMCwwLjIpO1xyXG4gICAgdHJhbnNpdGlvbjogMC4zcztcclxuICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICB9XHJcblxyXG4gIC5jYXJkLWltYWdlIGltZ3tcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDEwcHg7XHJcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTBweDtcclxuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gIH1cclxuICAucHJvZmlsZS1pbWFnZSBpbWd7XHJcbiAgICB6LWluZGV4OiAxO1xyXG4gICAgd2lkdGg6IDEyMHB4O1xyXG4gICAgaGVpZ2h0OiAxMjBweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIG1hcmdpbi10b3A6IC03NXB4O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwMHB4O1xyXG4gIH1cclxuXHJcbiAgLmNhcmQtY29udGVudHtcclxuICAgIG1hcmdpbjogMHB4IDE0cHg7XHJcbiAgfVxyXG5cclxuICAuY2FyZC1jb250ZW50IGg0e1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICB9XHJcblxyXG4gIC5ncm91cC1idXR0b257XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIG1hcmdpbi1sZWZ0Oi0yOHB4O1xyXG4gICAgfVxyXG4gIC5idXR0b257XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBtYXJnaW46IDI1cHggYXV0bztcclxuICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDM5LCAzOSwgMjExKTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYigzOSwgMzksIDIxMSkgO1xyXG4gIH1cclxuXHJcbiAgLmFkZC1idXR0aW9ue1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDM5LCAzOSwgMjExKTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYigzOSwgMzksIDIxMSk7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDBweDtcclxuICB9XHJcbiAgXHJcbiAgLmNhcmQ6aG92ZXIge1xyXG4gICAgYm94LXNoYWRvdzogMCA4cHggMTZweCAwIHJnYmEoMCwwLDAsMC4yKTtcclxuICB9XHJcbiAgXHJcbiAgXHJcbiAgLmNvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiAycHggMTZweDtcclxuICB9XHJcbiAgXHJcbiAgLnBhZ2luYXRpb24ge1xyXG4gICAgcGFkZGluZzogMzBweCAwIDYwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5wYWdpbmF0aW9uIGEge1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICB9XHJcbiAgXHJcbiAgLnBhZ2luYXRpb24gYS5hY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICB9XHJcbiAgXHJcbiAgLnBhZ2luYXRpb24gYTpob3Zlcjpub3QoLmFjdGl2ZSkge2JhY2tncm91bmQtY29sb3I6ICNkZGQ7fVxyXG5cclxuICAuaW5uZXItdGFne1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMjIsIDE0MCwgMjIyKTtcclxuICAgIGJhY2tncm91bmQ6IHJnYigyMjIsIDE0MCwgMjIyKSA7XHJcbiAgICBjb2xvcjogYmVpZ2U7XHJcbiAgfVxyXG5cclxuICBpbnB1dHtcclxuICAgIHdpZHRoOiAyNTBweDtcclxuICAgIHBhZGRpbmc6IDEycHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIG1hcmdpbi10b3A6IDZweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XHJcbiAgICByZXNpemU6IHZlcnRpY2FsO1xyXG4gIH1cclxuICBcclxuICBpbnB1dFt0eXBlPXN1Ym1pdF0ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzA0QUE2RDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDEycHggMjBweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcbiAgXHJcbiAgaW5wdXRbdHlwZT1zdWJtaXRdOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0NWEwNDk7XHJcbiAgfSJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","PostsComponent","constructor","postService","paginationSer","router","ngOnInit","getPosts","next","pager","currentPage","prev","pageNumber","req","page","getPostData","subscribe","res","postData","posts","data","console","log","setPage","paginate","total","limit","gotoPage","navigate","deletePostData","id","isDeleting","deletePost","err","updateResults","filteredItems","filterByOption","searchByValue","items","filter","item","searchValue","trim","project","toLowerCase","includes","toLocaleLowerCase","type","filterOption","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\krishna.gajjar\\Project\\src\\app\\posts\\posts\\posts.component.html","C:\\Users\\krishna.gajjar\\Project\\src\\app\\posts\\posts\\posts.component.ts"],"sourcesContent":["\n<div class=\"header\">\n    <div class=\"search\">\n        <input class=\"form-control\" type=\"text\" name=\"search\" [(ngModel)]=\"searchPost\" autocomplete=\"off\" placeholder=\"Search Posts....\">\n    </div>\n    <div class=\"add\">\n        <button class=\"add-buttion\" (click)=\"gotoPage()\">Add Post</button>\n    </div>\n</div>\n\n<div class=\"card-container\">\n   \n    <ng-container *ngIf=\"( posts | filter : searchPost) as result\">\n        <div class=\"card\" *ngFor=\"let data of result\">\n          \n                <div class=\"card-image\">\n                    <img [src]=\"data.image\" alt=\"Avatar\">\n                </div>\n                <div class=\"profile-image\">\n                    <img [src]=\"data.owner.picture\" alt=\"Avatar\">\n                </div>\n                <div class=\"card-content\">\n                    <h4><b>{{data.text}}</b></h4>\n                    <div class=\"tag\"> Tags:\n                        <div class=\"inner-tag\" *ngFor=\"let tag of data.tags\">\n                           {{tag}}\n                        </div>\n                    </div>\n                    <div> <i class=\"fa fa-thumbs-o-up\" aria-hidden=\"true\"></i>: {{data.likes}}</div>\n    \n                </div>\n                <div class=\"group-button\">\n                    <button class=\"button\" [routerLink]=\"'edit/' + data.id\">Edit</button>\n                    <button class=\"button\" (click)=\"deletePostData(data.id)\">delete</button>\n                </div>\n          \n           \n\n        </div>\n        <p *ngIf=\"result.length === 0\">No Record Found</p>  \n        </ng-container>\n    \n       \n\n    <!-- </div> -->\n    \n</div>\n<div class=\"pagination\" *ngIf=\"pager\">\n    <a href=\"javascript:;\" (click)=\"prev()\">&laquo;</a>\n    <a href=\"javascript:;\" (click)=\"getPosts(n)\" *ngFor=\"let n of pager.pages\"\n        [class.active]=\"n === pager?.currentPage\">\n        {{n}}\n    </a>\n    <a href=\"javascript:;\" (click)=\"next()\">&raquo;</a>\n</div>","import { Component, OnInit } from '@angular/core';\nimport {PostService} from '../../services/post.service'\nimport { Router } from '@angular/router';\nimport { PostResponse } from 'src/app/models/posts';\nimport { PaginationService } from 'src/app/services/pagination.service';\n\n@Component({\n  selector: 'app-posts',\n  templateUrl: './posts.component.html',\n  styleUrls: ['./posts.component.scss']\n})\nexport class PostsComponent implements OnInit {\n  public postData:any;\n  searchPost: any;\n  public posts:any;\n  isDeleting: boolean;\n  pager: any;\n  \n  constructor(private postService:PostService,\n    private paginationSer: PaginationService,\n    private router: Router) { }\n\n  ngOnInit(): void {\n    this.getPosts(1);\n  }\n\n  next() {\n    if (this.pager?.currentPage < 44) {\n      this.getPosts(this.pager?.currentPage + 1);\n    }\n  }\n\n  prev() {\n    if (this.pager?.currentPage > 1) {\n      this.getPosts(this.pager?.currentPage - 1);\n    }\n  }\n\n  getPosts(pageNumber: number) {\n    const req = {\n      page: pageNumber - 1\n    };\n    this.postService.getPostData(req).subscribe((res: PostResponse)=>{\n      this.postData = res;\n      this.posts = res.data;\n      console.log(this.postData);\n      \n      this.setPage(this.postData.page);\n    });\n  }\n\n  private setPage(page: number) {\n    this.pager = this.paginationSer.paginate(this.postData.total, page+1, this.postData.limit);\n  }\n\n  gotoPage(){\n    this.router.navigate(['posts/create']);\n  }\n\n  deletePostData(id:any){\n    if (this.isDeleting) {\n      return;\n    }\n    this.isDeleting = true;\n      this.postService.deletePost(id).subscribe((res:any)=>{\n        this.isDeleting = false;\n        this.getPosts(1);\n      },err => {\n        this.isDeleting = false;\n      })\n  }\n\n  async updateResults() {\n    this.filteredItems = this.filterByOption(this.searchByValue(this.items));\n  }\n\n  searchByValue(items) {\n    return items.filter((item) => {\n      if (this.searchValue.trim() === '') {\n        return true;\n      } else {\n        return (\n          item.project\n            .toLowerCase()\n            .includes(this.searchValue.trim().toLocaleLowerCase()) ||\n          item.type\n            .toLowerCase()\n            .includes(this.searchValue.trim().toLocaleLowerCase())\n        );\n      }\n    });\n  }\n\n  filterByOption(items) {\n    return items.filter(item => {\n      if (this.filterOption === 'all' || this.filterOption === item.type) {\n        return true;\n      }\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}